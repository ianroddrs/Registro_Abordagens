{% extends "extends/base.html" %}
{% load static %}


{% block css%}
<link rel="stylesheet" href="{% static 'css/cadastro.css' %}">
{% endblock %}
{% block js%}{% endblock %}
{% block title %}Cadastro de operação{% endblock %}


{% block content %}
{% include "includes/header.html" with nav_title="Busca e apreensão" back=True %}
<main class="container">
    <form action="" method="POST">
        {% csrf_token %}
        <section class="row">
            <div class="col-12 col-md-4 border pb-5">
                <label class="fs-5 mt-3 w-100" for="foto_abordado">Foto abordado</label>
                <div class="input-group">
                    <input disabled class="form-control" type="text" name="" id="foto_abordado">
                    <input required id="imagemCapturada_src" type="hidden" name="foto_abordado" src="" alt="Imagem Capturada">
                    <button class="btn btn-camera" id="abrirCamera" type="button" ><i class="bi bi-camera-fill"></i></button>
                    <img id="imagemCapturada" src="" alt="Imagem Capturada" width="50px" class="imagem-captura">
                </div>
                <br>

                <label class="fs-5 mt-3 w-100" for="mandado">Mandado</label>
                <input class="form-control" type="file" name="mandado" id="mandado">

                <br>
                <label class="fs-5 mt-3 w-100" for="nro_documento">Nº do documento</label>
                <input required class="form-control" type="number" name="nro_documento" id="nro_documento">
            </div>
            <div class="col-12 col-md-4 border pb-5">
                <label class="fs-5 mt-3 w-100" for="nome_envolvido">Nome envolvido</label>
                <input required class="form-control" type="text" name="nome_envolvido" id="nome_envolvido">
                <br>
                <label class="fs-5 mt-3 w-100" for="nome_mae">Nome mãe</label>
                <input required class="form-control" type="text" name="nome_mae" id="nome_mae">
                <br>
                <label class="fs-5 mt-3 w-100" for="data_nasc">Data de nascimento</label>
                <input required class="form-control" type="date" name="data_nasc" id="data_nasc">
            </div>
            <div class="col-12 col-md-4 border pb-5">
                <label class="fs-5 mt-3 w-100" for="data_realizacao">Data da realização</label>
                <input required class="form-control" type="date" name="data_realizacao" id="data_realizacao">
                <br>
                <label class="fs-5 mt-3 w-100" for="chefe_guarnicao">Chefe da guarnição</label>
                <select class="form-select" name="chefe_guarnicao" id="" required>
                    <option selected></option>
                    {% for chefe in chefes %}
                    <option value="{{chefe.id}}">{{chefe.name}}</option>
                    {% endfor %}
                </select>
                {% comment %} <input required class="form-control" type="text" name="chefe_guarnicao" id="chefe_guarnicao"> {% endcomment %}
                <br>
                <label class="fs-5 mt-3 w-100" for="nome_op">Nome da operação</label>
                <select class="form-select" name="nome_op" id="">
                    <option selected></option>
                    {% for operacao in operacoes %}
                    <option value="{{operacao.id}}">{{operacao.nome}}</option>
                    {% endfor %}
                </select>
                <!-- <input required class="form-control" type="text" name="nome_op" id="nome_op"> -->
            </div>
        </section>
        {% include 'includes/save_bar.html' %}
    </form>

    <!-- Modal para visualização da câmera -->
    <div id="cameraModal" class="modal row p-0 m-0 align-items-center">
        <div class="col-12 d-flex justify-content-center">
            <video id="cameraView" autoplay></video>
        </div>
        <div class="col-12 d-flex justify-content-center">
            <button class="btn btn-light" id="capturarFotoModal"> <i class="bi bi-camera-fill"></i></button>
        </div>
    </div>

</main>
{% endblock %}